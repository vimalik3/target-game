<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ Click the Target - Multiplayer!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            color: white;
            padding: 20px;
            user-select: none;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 5px;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
        }

        .subtitle {
            font-size: 1rem;
            color: #aaa;
            margin-bottom: 20px;
        }

        /* ========================================
           üìê MAIN LAYOUT - Three columns!
           ======================================== */
        .game-container {
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        /* ========================================
           üë• PLAYER LIST (Left side)
           This shows all the players!
           ======================================== */
        .player-panel {
            width: 200px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 15px;
            backdrop-filter: blur(10px);
        }

        .panel-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: #3498db;
            text-align: center;
        }

        .player-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 15px;
            max-height: 300px;
            overflow-y: auto;
        }

        .player-item {
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .player-item:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .player-item.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .player-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .player-name {
            flex: 1;
            font-weight: 500;
        }

        /* Add new player section */
        .add-player {
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding-top: 15px;
        }

        .add-player input {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.15);
            color: white;
            font-size: 0.9rem;
            margin-bottom: 8px;
        }

        .add-player input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .add-player button {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 8px;
            background: #2ecc71;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .add-player button:hover {
            transform: scale(1.02);
        }

        /* ========================================
           üéÆ GAME AREA (Center)
           ======================================== */
        .game-section {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .current-player-display {
            font-size: 1.3rem;
            margin-bottom: 15px;
            padding: 8px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
        }

        .game-area {
            width: 450px;
            height: 350px;
            background: #1a1a2e;
            border-radius: 20px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            border: 3px solid #333;
            cursor: crosshair;
        }

        .target {
            position: absolute;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, #ff6b6b 0%, #ee5a5a 50%, #c0392b 100%);
            border-radius: 50%;
            cursor: pointer;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.6);
            display: none;
        }

        .target::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 30px;
            height: 30px;
            background: white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .target::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 10px;
            height: 10px;
            background: #c0392b;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .start-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .start-message .emoji {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .start-btn {
            margin-top: 15px;
            padding: 12px 35px;
            font-size: 1.1rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .start-btn:hover {
            transform: scale(1.05);
        }

        .game-over {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            background: rgba(0, 0, 0, 0.9);
            padding: 30px;
            border-radius: 20px;
            display: none;
        }

        .final-score {
            font-size: 2.5rem;
            color: #f1c40f;
            margin: 15px 0;
        }

        .stats-bar {
            display: flex;
            gap: 20px;
            margin-top: 15px;
        }

        .stat-box {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: 12px;
            text-align: center;
        }

        .stat-label {
            font-size: 0.8rem;
            color: #aaa;
        }

        .stat-value {
            font-size: 1.3rem;
            font-weight: bold;
            color: #3498db;
        }

        .stat-value.score { color: #2ecc71; }
        .stat-value.time { color: #f1c40f; }

        /* ========================================
           üèÜ SCOREBOARD (Right side)
           This shows the high scores!
           ======================================== */
        .scoreboard-panel {
            width: 220px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 15px;
            backdrop-filter: blur(10px);
        }

        .scoreboard-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .score-item {
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .score-item.gold { background: linear-gradient(135deg, rgba(241, 196, 15, 0.3) 0%, rgba(243, 156, 18, 0.3) 100%); }
        .score-item.silver { background: linear-gradient(135deg, rgba(189, 195, 199, 0.3) 0%, rgba(149, 165, 166, 0.3) 100%); }
        .score-item.bronze { background: linear-gradient(135deg, rgba(230, 126, 34, 0.3) 0%, rgba(211, 84, 0, 0.3) 100%); }

        .rank {
            font-size: 1.2rem;
            width: 30px;
            text-align: center;
        }

        .score-player-name {
            flex: 1;
            font-weight: 500;
        }

        .score-value {
            font-weight: bold;
            color: #f1c40f;
            font-size: 1.1rem;
        }

        .no-scores {
            text-align: center;
            color: #888;
            padding: 20px;
            font-style: italic;
        }

        .hit-effect {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #f1c40f;
            border-radius: 50%;
            pointer-events: none;
            animation: explode 0.4s ease-out forwards;
        }

        @keyframes explode {
            0% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(4); opacity: 0; }
        }

        .new-record {
            color: #f1c40f;
            font-size: 0.9rem;
            animation: pulse 0.5s ease-in-out infinite alternate;
        }

        @keyframes pulse {
            from { opacity: 0.7; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <h1>üéØ Click the Target!</h1>
    <p class="subtitle">Select a player and compete for the high score!</p>

    <div class="game-container">
        <!-- ========================================
             üë• PLAYER LIST (Left Panel)
             ======================================== -->
        <div class="player-panel">
            <div class="panel-title">üë• Players</div>

            <div class="player-list" id="playerList">
                <!-- Players will be added here by JavaScript! -->
            </div>

            <div class="add-player">
                <input type="text" id="newPlayerName" placeholder="Enter name..." maxlength="12">
                <button id="addPlayerBtn">‚ûï Add Player</button>
            </div>
        </div>

        <!-- ========================================
             üéÆ GAME AREA (Center)
             ======================================== -->
        <div class="game-section">
            <div class="current-player-display" id="currentPlayerDisplay">
                üéÆ Select a player to start!
            </div>

            <div class="game-area" id="gameArea">
                <div class="target" id="target"></div>

                <div class="start-message" id="startMessage">
                    <div class="emoji">üéØ</div>
                    <div>Ready to play?</div>
                    <button class="start-btn" id="startBtn">Start Game!</button>
                </div>

                <div class="game-over" id="gameOver">
                    <div style="font-size: 1.5rem;">‚è∞ Time's Up!</div>
                    <div class="final-score" id="finalScore">0</div>
                    <div id="recordMessage"></div>
                    <button class="start-btn" id="playAgain">Play Again</button>
                </div>
            </div>

            <div class="stats-bar">
                <div class="stat-box">
                    <div class="stat-label">Score</div>
                    <div class="stat-value score" id="score">0</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Time Left</div>
                    <div class="stat-value time" id="timeLeft">30</div>
                </div>
            </div>
        </div>

        <!-- ========================================
             üèÜ SCOREBOARD (Right Panel)
             ======================================== -->
        <div class="scoreboard-panel">
            <div class="panel-title">üèÜ High Scores</div>

            <div class="scoreboard-list" id="scoreboardList">
                <div class="no-scores">No scores yet!<br>Play a game!</div>
            </div>
        </div>
    </div>

    <script>
        // =============================================
        // üéÆ GAME SETTINGS
        // =============================================
        const GAME_TIME = 30;

        // =============================================
        // üì¶ VARIABLES
        // =============================================
        let score = 0;
        let timeLeft = GAME_TIME;
        let gameRunning = false;
        let timerInterval = null;
        let currentPlayer = null;    // üëà NEW! Which player is playing

        // =============================================
        // üë• PLAYERS DATA
        // This is an ARRAY - a list that holds multiple items!
        // Each player is an OBJECT with a name and their best score
        // =============================================
        let players = [
            { name: 'Player 1', emoji: 'üòÄ', bestScore: 0 },
            { name: 'Player 2', emoji: 'üòé', bestScore: 0 }
        ];

        // List of fun emojis for new players!
        const playerEmojis = ['üòÄ', 'üòé', 'ü§©', 'ü•≥', 'üò∫', 'ü¶ä', 'üê∏', 'ü¶Ñ', 'üåü', 'üî•', '‚ö°', 'üéÆ'];

        // =============================================
        // üîç GET PAGE ELEMENTS
        // =============================================
        const gameArea = document.getElementById('gameArea');
        const target = document.getElementById('target');
        const scoreDisplay = document.getElementById('score');
        const timeDisplay = document.getElementById('timeLeft');
        const startMessage = document.getElementById('startMessage');
        const startBtn = document.getElementById('startBtn');
        const gameOverScreen = document.getElementById('gameOver');
        const finalScoreDisplay = document.getElementById('finalScore');
        const playAgainBtn = document.getElementById('playAgain');
        const playerListEl = document.getElementById('playerList');
        const scoreboardListEl = document.getElementById('scoreboardList');
        const currentPlayerDisplay = document.getElementById('currentPlayerDisplay');
        const newPlayerNameInput = document.getElementById('newPlayerName');
        const addPlayerBtn = document.getElementById('addPlayerBtn');
        const recordMessage = document.getElementById('recordMessage');

        // =============================================
        // üë• RENDER THE PLAYER LIST
        // This function draws all the players on the screen
        // =============================================
        function renderPlayerList() {
            playerListEl.innerHTML = '';  // Clear the list first

            // Loop through each player and create their button
            // "forEach" means "do this for each item in the list"
            players.forEach(function(player, index) {
                const playerDiv = document.createElement('div');
                playerDiv.className = 'player-item';

                // If this is the current player, highlight them!
                if (currentPlayer && currentPlayer.name === player.name) {
                    playerDiv.classList.add('selected');
                }

                playerDiv.innerHTML = `
                    <div class="player-avatar">${player.emoji}</div>
                    <div class="player-name">${player.name}</div>
                `;

                // When you click a player, select them!
                playerDiv.addEventListener('click', function() {
                    selectPlayer(index);
                });

                playerListEl.appendChild(playerDiv);
            });
        }

        // =============================================
        // üèÜ RENDER THE SCOREBOARD
        // Shows the top scores from all players
        // =============================================
        function renderScoreboard() {
            // Get players who have scores, sorted from highest to lowest
            const playersWithScores = players
                .filter(p => p.bestScore > 0)  // Only players with scores
                .sort((a, b) => b.bestScore - a.bestScore);  // Sort high to low

            if (playersWithScores.length === 0) {
                scoreboardListEl.innerHTML = '<div class="no-scores">No scores yet!<br>Play a game!</div>';
                return;
            }

            scoreboardListEl.innerHTML = '';

            // Show up to 5 top scores
            playersWithScores.slice(0, 5).forEach(function(player, index) {
                const scoreDiv = document.createElement('div');
                scoreDiv.className = 'score-item';

                // Add special styling for top 3
                if (index === 0) scoreDiv.classList.add('gold');
                else if (index === 1) scoreDiv.classList.add('silver');
                else if (index === 2) scoreDiv.classList.add('bronze');

                // Medal emojis for top 3!
                const medals = ['ü•á', 'ü•à', 'ü•â', '4Ô∏è‚É£', '5Ô∏è‚É£'];

                scoreDiv.innerHTML = `
                    <div class="rank">${medals[index]}</div>
                    <div class="score-player-name">${player.emoji} ${player.name}</div>
                    <div class="score-value">${player.bestScore}</div>
                `;

                scoreboardListEl.appendChild(scoreDiv);
            });
        }

        // =============================================
        // üëÜ SELECT A PLAYER
        // =============================================
        function selectPlayer(index) {
            if (gameRunning) return;  // Can't switch while playing!

            currentPlayer = players[index];
            currentPlayerDisplay.innerHTML = `üéÆ Playing: ${currentPlayer.emoji} ${currentPlayer.name}`;
            renderPlayerList();
        }

        // =============================================
        // ‚ûï ADD A NEW PLAYER
        // =============================================
        function addNewPlayer() {
            const name = newPlayerNameInput.value.trim();

            if (name === '') {
                alert('Please enter a name!');
                return;
            }

            // Check if name already exists
            if (players.some(p => p.name.toLowerCase() === name.toLowerCase())) {
                alert('That name is already taken!');
                return;
            }

            // Pick a random emoji for the new player
            const randomEmoji = playerEmojis[Math.floor(Math.random() * playerEmojis.length)];

            // Add the new player to the list
            players.push({
                name: name,
                emoji: randomEmoji,
                bestScore: 0
            });

            // Clear the input
            newPlayerNameInput.value = '';

            // Update the display
            renderPlayerList();
        }

        // =============================================
        // üé¨ START THE GAME
        // =============================================
        function startGame() {
            if (!currentPlayer) {
                alert('Please select a player first!');
                return;
            }

            score = 0;
            timeLeft = GAME_TIME;
            gameRunning = true;

            scoreDisplay.textContent = score;
            timeDisplay.textContent = timeLeft;

            startMessage.style.display = 'none';
            gameOverScreen.style.display = 'none';
            target.style.display = 'block';

            moveTarget();

            timerInterval = setInterval(function() {
                timeLeft = timeLeft - 1;
                timeDisplay.textContent = timeLeft;

                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        // =============================================
        // üéØ MOVE TARGET
        // =============================================
        function moveTarget() {
            const areaWidth = gameArea.offsetWidth;
            const areaHeight = gameArea.offsetHeight;
            const padding = 40;

            const randomX = padding + Math.random() * (areaWidth - padding * 2);
            const randomY = padding + Math.random() * (areaHeight - padding * 2);

            target.style.left = randomX + 'px';
            target.style.top = randomY + 'px';
        }

        // =============================================
        // üí• TARGET CLICKED
        // =============================================
        target.addEventListener('click', function(event) {
            if (!gameRunning) return;

            score = score + 1;
            scoreDisplay.textContent = score;

            createHitEffect(event.clientX, event.clientY);
            moveTarget();
        });

        // =============================================
        // üí´ HIT EFFECT
        // =============================================
        function createHitEffect(x, y) {
            const effect = document.createElement('div');
            effect.className = 'hit-effect';

            const rect = gameArea.getBoundingClientRect();
            effect.style.left = (x - rect.left) + 'px';
            effect.style.top = (y - rect.top) + 'px';

            gameArea.appendChild(effect);

            setTimeout(function() {
                effect.remove();
            }, 400);
        }

        // =============================================
        // üèÅ END GAME
        // =============================================
        function endGame() {
            gameRunning = false;
            clearInterval(timerInterval);
            target.style.display = 'none';

            // Check if this is a new personal best!
            let isNewRecord = false;
            if (score > currentPlayer.bestScore) {
                currentPlayer.bestScore = score;
                isNewRecord = true;
            }

            finalScoreDisplay.textContent = score;

            if (isNewRecord) {
                recordMessage.innerHTML = '<div class="new-record">‚≠ê NEW PERSONAL BEST! ‚≠ê</div>';
            } else {
                recordMessage.innerHTML = `Your best: ${currentPlayer.bestScore}`;
            }

            gameOverScreen.style.display = 'block';

            // Update the scoreboard!
            renderScoreboard();
        }

        // =============================================
        // üéÆ BUTTON EVENTS
        // =============================================
        startBtn.addEventListener('click', startGame);
        playAgainBtn.addEventListener('click', startGame);
        addPlayerBtn.addEventListener('click', addNewPlayer);

        // Let user press Enter to add a player
        newPlayerNameInput.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                addNewPlayer();
            }
        });

        // =============================================
        // üöÄ INITIALIZE THE GAME
        // This runs when the page first loads!
        // =============================================
        renderPlayerList();
        renderScoreboard();
    </script>
</body>
</html>
